
@(Html.Kendo().Grid<DRLab.Data.ViewModels.E00T_CustomerViewModel>()
    .Name("Customer")
    .Columns(columns =>
    {
        columns.Bound(p => p.customerCode).Hidden();
        columns.Bound(p => p.companyName).Hidden().Width(100);
        columns.Bound(p => p.companyAddress).Hidden().Width(100);
        columns.Bound(p => p.city).Title("Province").Hidden().Width(100);
        columns.Bound(p => p.contactName).Hidden().Width(100);
        columns.Bound(p => p.contactEmail).Hidden().Width(100);
        columns.Bound(p => p.note).Hidden().Width(100);
        columns.Command(command => command.Edit().UpdateText("Insert")).Hidden();
    })
    .ToolBar(toolbar => toolbar.Create().Text(" "))
    .Editable(editable => editable.Mode(GridEditMode.PopUp).Window(w => w.Title("New Customer")))
    .DataSource(dataSource => dataSource
        .Ajax()
        .Events(events => events.Error("error_handler"))
        .Model(model => model.Id(p => p.customerCode))
        .Model(model => model.Field(p => p.companyName))
        .Model(model => model.Id(p => p.companyAddress))
        .Model(model => model.Field(p => p.city))
        .Model(model => model.Id(p => p.contactName))
        .Model(model => model.Field(p => p.contactEmail))
        .Model(model => model.Id(p => p.note))
        .Create(read => read.Action("Create_CustomerRequest", "CustomerList"))
        .Read(read => read.Action("Read_Customer", "CustomerList"))

    )
)
<script type="text/javascript">
    function error_handler(e) {
        if (e.errors) {
            var message = "Errors:\n";
            $.each(e.errors, function (key, value) {
                if ('errors' in value) {
                    $.each(value.errors, function () {
                        message += this + "\n";
                    });
                }
            });
            alert(message);
        }
    }
</script>
<style>
    .k-header.k-grid-toolbar {
        border: 0;
        background: none;
    }

    .k-grid-toolbar {
        width: 60px;
        border: 0;
        background: none;
    }

    .k-grid.k-widget.k-grid-display-block.k-editable {
        border: 0;
    }
    .k-edit-form-container.editor-label {
        text-align: left !important;
    }
    label:not(.form-check-label):not(.custom-file-label) {
        font-weight: 400;        
    }
    .k-button.k-button-icontext.k-grid-add {
        width: 33px;
    }
</style>
